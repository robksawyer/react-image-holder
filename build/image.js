"use strict";var _extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},omit=require("lodash/omit"),React=require("react"),ReactDOM=require("react-dom"),qs=require("query-string");PropTypes=require("prop-types");var DEFAULT_PROPS={usePlaceholder:!1,placeholder:{theme:"vine",auto:!0}},Img=React.createClass({displayName:"Img",placeholder:null,getDefaultProps:function(){return DEFAULT_PROPS},render:function(){var e=this.props,r=this.props,t=r.width,o=r.height,i=omit(e,"src","usePlaceholder","placeholder");if(e.usePlaceholder){var n=qs.stringify(e.placeholder),s="holder.js/"+t+"x"+o+"?"+n,l=omit(i,"width","height");return React.createElement("img",_extends({},l,{ref:function(e){this.placeholder=e},"data-src":s}))}return React.createElement("img",_extends({},i,{src:e.src}))},componentDidMount:function(){this._initPlaceholderImage()},componentDidUpdate:function(){this._initPlaceholderImage()},_initPlaceholderImage:function(){if("undefined"!=typeof window&&window.document&&this.props.usePlaceholder){var e=this.placeholder,r=require("holderjs");r.run({domain:"holder.js",images:e,object:null,bgnodes:null,stylenodes:null})}}});Img.propTypes={src:PropTypes.string.isRequired,usePlaceholder:PropTypes.bool,placeholder:PropTypes.object},Img.DEFAULT_PROPS=DEFAULT_PROPS,module.exports=Img;